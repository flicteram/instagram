{"version":3,"sources":["Components/Images/instagramLogo.png","firebase.js","Context.js","Components/Images/iphoneimage.jpg","showImages.js","Components/Images/iphone1.png","Components/Images/iphone2.png","Components/Images/iphone3.png","Components/Images/iphone4.png","Components/Images/iphone5.png","Components/Images/iphone6.png","Components/Images/iphone7.png","Components/Images/iphone8.png","Components/Images/iphone9.png","Components/Images/iphone10.png","Pages/SignIn.js","Components/Header/Header.js","Components/Images/musk.jpg","Components/Images/bezos.jpg","Components/Images/messi.jpg","Components/Images/ronaldo.jpg","Components/Images/theRock.jpg","Components/Images/neymar.jpg","Components/Images/gates.jpg","Components/Images/diesel.jpg","Components/Stories/Stories.js","Components/Images/mark.jpg","Components/Modal/ModalPost.js","Components/Post/Post.js","Components/NavBarDown/NavBarDown.js","Components/Footer/Footer.js","Components/FooterLow/FooterLow.js","Pages/Home.js","Pages/NewPost.js","Pages/CommentPage.js","Components/PostDisplayProfile/PostDisplayProfile.js","Pages/Profile.js","Components/Nav/Nav.js","Pages/EditProfile.js","Pages/PostPage.js","App.js","ScrollToTop.js","index.js"],"names":["db","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","getFirestore","auth","getAuth","storage","getStorage","Context","createContext","ContextProvider","children","useState","user","setUser","pending","setPending","history","useHistory","useEffect","onAuthStateChanged","push","className","LinearProgress","sx","textAlign","width","height","color","position","top","transform","Provider","value","image","SignIn","index","setIndex","useContext","provider","GoogleAuthProvider","nextSlide","showImages","length","intervalId","setInterval","clearInterval","src","iphoneImage","map","item","ind","alt","logo","onClick","signInWithPopup","then","result","catch","error","alert","message","Header","isHome","cursor","signOut","Avatar","uid","photoURL","Stories","showArrows","outerSpacing","breakPoints","itemsToShow","itemsToScroll","pagination","showEmptySlots","right","musk","bezos","bill","messi","neymar","ronaldo","theRock","diesel","Modal","setAppElement","ModalPost","data","userData","goToPost","isOpen","setIsOpen","modalStylesGoToPost","overlay","content","maxHeight","display","padding","flexDirection","justifyContent","alignItems","borderRadius","margin","maxWidth","modalStylesDontGoToPost","a","deleteDoc","doc","id","onRequestClose","style","handleDeletePost","followers","includes","followRef","followedRef","updateDoc","arrayRemove","following","handleUnfollow","arrayUnion","handleFollow","Post","postPage","postComments","setPostComments","setUserData","loading","setLoading","commentText","setCommentText","postsRef","themeComment","createTheme","breakpoints","values","xs","sm","md","lg","xl","e","preventDefault","commentRef","collection","whoCommentedRef","addDoc","username","displayName","timestamp","Timestamp","now","userPhoto","userId","whoCommented","commentsCount","increment","timeAgoComment","timePosted","minutes","Math","round","seconds","floor","likes","whoLiked","query","orderBy","onSnapshot","querySnapshot","commentsArray","forEach","Skeleton","variant","marginLeft","marginTop","alignSelf","postPhoto","text","handleDislike","handleLikes","theme","down","up","slice","time","timeAgo","onSubmit","handlePostComment","onChange","target","placeholder","disabled","trim","NavBarDown","home","border","Footer","href","FooterLow","homePageBig","Home","postData","setPostData","docRef","getDoc","exists","setDoc","createUser","q","docs","zIndex","NewPost","postInput","setPostInput","currentFile","setCurrentFile","inputFocus","setInputFocus","imageUrl","setImageUrl","loadingImage","setLoadingImage","fileRef","useRef","handleSubmit","goBack","left","onFocus","onBlur","type","fileDeleteRef","ref","deleteObject","handleDeleteFile","current","click","hidden","file","files","filePathRandom","random","name","storageRef","uploadBytes","snapshot","metadata","fullPath","getDownloadURL","url","handleFile","CommentPage","postId","useParams","commentsData","setCommentsData","postRef","PostDisplayProfile","hover","setHover","onMouseEnter","onMouseLeave","fontSize","Profile","profile","setProfile","postsProfile","setPostsProfile","grid","setGrid","profileId","themeSekleton","skeletonStyles","between","styles","marginRight","where","dataArray","bio","animation","Nav","leftNav","rightNav","title","EditProfile","profilePhoto","setProfilePhoto","setName","setBio","updateUserComments","includesComments","getDocs","document","queryComments","getComments","runTransaction","transaction","get","update","updateUserPosts","batchPosts","writeBatch","userPosts","userDocs","commit","getUserRef","getUserDocData","handleProfilePhoto","usersDoc","updateProfile","currentUser","handleSubmitEdit","PostPage","postInfo","setPostInfo","morePosts","setMorePosts","postsArray","getRelevantPosts","isLoading","filter","post","App","exact","path","ScrollToTop","pathname","useLocation","window","scrollTo","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.80cbdae5.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/instagramLogo.d564266a.png\";","import { initializeApp } from \"firebase/app\";\r\nimport {getAuth} from 'firebase/auth'\r\nimport { getFirestore } from 'firebase/firestore'\r\nimport {getStorage} from 'firebase/storage'\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyAHcGhxuPSw4IxM6HvvOyQZiXBq3n38CnI\",\r\n  authDomain: \"instagram-15651.firebaseapp.com\",\r\n  projectId: \"instagram-15651\",\r\n  storageBucket: \"instagram-15651.appspot.com\",\r\n  messagingSenderId: \"568578638991\",\r\n  appId: \"1:568578638991:web:12a98a0171ef48490d9cfa\"\r\n};\r\n\r\nconst app = initializeApp(firebaseConfig);\r\nexport default app\r\nexport const db = getFirestore()\r\nexport const auth = getAuth()\r\nexport const storage = getStorage()","import React,{createContext,useState,useEffect} from \"react\";\r\nimport {onAuthStateChanged} from 'firebase/auth'\r\nimport {auth} from './firebase'\r\nimport { useHistory } from \"react-router-dom\";\r\nimport LinearProgress from '@mui/material/LinearProgress';\r\nimport InstagramIcon from '@mui/icons-material/Instagram';\r\n\r\nconst Context = createContext()\r\n\r\nfunction ContextProvider({children}){\r\n    const [user,setUser]=useState(null)\r\n    const [pending,setPending]=useState(true)\r\n    const history = useHistory()\r\n\r\n    useEffect(()=>{\r\n        onAuthStateChanged(auth,(user)=>{\r\n            if(user){\r\n                setUser(user)\r\n                history.push('/')\r\n                setPending(false)\r\n            }\r\n            else {\r\n                history.push('/signin')\r\n                setPending(false)\r\n            }\r\n        })\r\n    },[history])\r\n\r\n    if(pending){\r\n        return <div className='pendingUserCheck'>\r\n            <LinearProgress sx={{textAlign:'center',width:'100%'}}/>\r\n            <InstagramIcon sx={{width:'100%',height:'100px',color:'rgb(185, 185, 185)',position:'absolute',top:'50%',transform:'translateY(-50%)'}}/>\r\n        </div>\r\n        \r\n    }\r\n    return(\r\n        <Context.Provider value={{user,setUser}}>\r\n            {children}\r\n        </Context.Provider>\r\n    )\r\n}\r\n\r\nexport {ContextProvider,Context}","export default __webpack_public_path__ + \"static/media/iphoneimage.c6e690af.jpg\";","import iphone1 from './Components/Images/iphone1.png'\r\nimport iphone2 from './Components/Images/iphone2.png'\r\nimport iphone3 from './Components/Images/iphone3.png'\r\nimport iphone4 from './Components/Images/iphone4.png'\r\nimport iphone5 from './Components/Images/iphone5.png'\r\nimport iphone6 from './Components/Images/iphone6.png'\r\nimport iphone7 from './Components/Images/iphone7.png'\r\nimport iphone8 from './Components/Images/iphone8.png'\r\nimport iphone9 from './Components/Images/iphone9.png'\r\nimport iphone10 from './Components/Images/iphone10.png'\r\n\r\nexport default [\r\n    {\r\n    image:iphone1\r\n    },\r\n    {\r\n    image:iphone2\r\n    },\r\n    {\r\n    image:iphone3\r\n    },\r\n    {\r\n    image:iphone4\r\n    },\r\n    {\r\n    image:iphone5\r\n    },\r\n    {\r\n    image:iphone6\r\n    },\r\n    {\r\n    image:iphone7\r\n    },\r\n    {\r\n    image:iphone8\r\n    },\r\n    {\r\n    image:iphone9\r\n    },\r\n    {\r\n    image:iphone10\r\n    }\r\n]","export default __webpack_public_path__ + \"static/media/iphone1.6ebd547d.png\";","export default __webpack_public_path__ + \"static/media/iphone2.0325747b.png\";","export default __webpack_public_path__ + \"static/media/iphone3.43f85c37.png\";","export default __webpack_public_path__ + \"static/media/iphone4.98b0c5c4.png\";","export default __webpack_public_path__ + \"static/media/iphone5.89386b82.png\";","export default __webpack_public_path__ + \"static/media/iphone6.79bd5299.png\";","export default __webpack_public_path__ + \"static/media/iphone7.aefcfcd4.png\";","export default __webpack_public_path__ + \"static/media/iphone8.b8ab4e24.png\";","export default __webpack_public_path__ + \"static/media/iphone9.b5dc46fc.png\";","export default __webpack_public_path__ + \"static/media/iphone10.4e808b48.png\";","import React,{useContext,useState,useEffect} from \"react\";\r\nimport './SignIn.css'\r\nimport logo from '../Components/Images/instagramLogo.png'\r\nimport {Context} from '../Context'\r\nimport {auth} from '../firebase'\r\nimport {signInWithPopup,GoogleAuthProvider} from 'firebase/auth'\r\nimport iphoneImage from '../Components/Images/iphoneimage.jpg'\r\nimport showImages from \"../showImages\";\r\n\r\n\r\nfunction SignIn(){\r\n    const [index,setIndex]=useState(0)\r\n    const {setUser}=useContext(Context)\r\n    const provider = new GoogleAuthProvider()\r\n\r\n    function nextSlide(){\r\n        if(index<showImages.length-1){\r\n            setIndex(index+1)\r\n        }\r\n        else{\r\n           setIndex(0)\r\n        }\r\n    }\r\n\r\n    useEffect(()=>{\r\n        const intervalId = setInterval(nextSlide,5000)\r\n\r\n        return ()=>clearInterval(intervalId)\r\n    },[index])\r\n        \r\n\r\n    function handleClick(){\r\n        signInWithPopup(auth,provider)\r\n            .then((result)=>{\r\n                setUser(result.user)\r\n            })\r\n            .catch((error)=>{\r\n                alert(error.message)\r\n            })\r\n    }\r\n    return( \r\n    <div className='signInContainer'>\r\n        <div className='iphoneContainer'>\r\n            <img src={iphoneImage} className='iphonePic'/>\r\n            {showImages.map((item,ind)=>(\r\n                <img key={ind} src={item.image} alt={'Preview'} className={index===ind?'iphoneContent':'iphoneContentNoDisplay'}/>\r\n                )\r\n            )}\r\n        </div>\r\n        \r\n        <div className='signInInner'>\r\n        <img src={logo} className='signInLogo' alt='Instagram Logo'/>\r\n        <button className='signInButton' onClick={handleClick}>Sign In</button>  \r\n        </div>\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default SignIn","import React from \"react\";\r\nimport {useHistory} from 'react-router-dom'\r\nimport './Header.css'\r\nimport logo from '../Images/instagramLogo.png'\r\nimport HomeIcon from '@mui/icons-material/Home';\r\nimport Avatar from '@mui/material/Avatar'\r\nimport LogoutIcon from '@mui/icons-material/Logout';\r\nimport AddBoxOutlinedIcon from '@mui/icons-material/AddBoxOutlined';\r\nimport HomeOutlinedIcon from '@mui/icons-material/HomeOutlined';\r\nimport {auth} from '../../firebase'\r\nimport { signOut } from \"firebase/auth\";\r\n\r\nfunction Header({user,isHome}){\r\n    const history=useHistory()\r\n    function handleLogOut(){\r\n        signOut(auth)\r\n        .catch((error)=>{\r\n            alert(error.message)\r\n        })\r\n    }\r\n    return(\r\n        <div>\r\n        <nav className='navMainLow'>\r\n            <img className='logoHeader' src={logo} alt='Instagram logo'/>\r\n        </nav>\r\n        <nav className='navMainHigh'>\r\n            <div className='navMainHighInner'>\r\n            <img className='logoHeader' src={logo} alt='Instagram logo' onClick={()=>history.push('/')}/>\r\n            <div className='navMainHighOptions'>\r\n            {isHome?<HomeIcon sx={{width:25,height:25,cursor:'pointer'}} onClick={()=>history.push('/')}/>:\r\n            <HomeOutlinedIcon sx={{width:25,height:25,cursor:'pointer'}} onClick={()=>history.push('/')}/>}\r\n            <AddBoxOutlinedIcon sx={{width:25,height:25,cursor:'pointer'}} onClick={()=>history.push('/newPost')}/>\r\n            <LogoutIcon sx={{width:25,height:25,cursor:'pointer'}} onClick={()=>handleLogOut()}/>\r\n            <Avatar onClick={()=>history.push(`/profile/${user.uid}`)} src={user.photoURL} sx={{width:25,height:25,cursor:'pointer'}}/>\r\n            </div>\r\n            </div>\r\n            \r\n        </nav>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Header","export default __webpack_public_path__ + \"static/media/musk.e9df8672.jpg\";","export default __webpack_public_path__ + \"static/media/bezos.7c39e173.jpg\";","export default __webpack_public_path__ + \"static/media/messi.afdf40b0.jpg\";","export default __webpack_public_path__ + \"static/media/ronaldo.dbfebdc6.jpg\";","export default __webpack_public_path__ + \"static/media/theRock.49fdf988.jpg\";","export default __webpack_public_path__ + \"static/media/neymar.e6dde906.jpg\";","export default __webpack_public_path__ + \"static/media/gates.38f95135.jpg\";","export default __webpack_public_path__ + \"static/media/diesel.6b35f04d.jpg\";","import React from \"react\";\r\nimport './Stories.css'\r\nimport Avatar from '@mui/material/Avatar'\r\nimport AddIcon from '@mui/icons-material/Add';\r\nimport Carousel from 'react-elastic-carousel'\r\nimport musk from '../Images/musk.jpg'\r\nimport bezos from '../Images/bezos.jpg'\r\nimport mark from '../Images/mark.jpg'\r\nimport messi from '../Images/messi.jpg'\r\nimport ronaldo from '../Images/ronaldo.jpg'\r\nimport theRock from '../Images/theRock.jpg'\r\nimport neymar from '../Images/neymar.jpg'\r\nimport bill from '../Images/gates.jpg'\r\nimport diesel from '../Images/diesel.jpg'\r\n\r\nfunction Stories({user}){\r\n\r\n    const breakPoints = [{\r\n        width:260,\r\n        itemsToShow:4,\r\n        itemsToScroll:4,\r\n        },\r\n        {\r\n        width:300,\r\n        itemsToShow:5,\r\n        itemsToScroll:5,\r\n        },{\r\n        width:350,\r\n        itemsToShow:6,\r\n        itemsToScroll:6,  \r\n        },\r\n        {\r\n        width:410,\r\n        itemsToShow:7,\r\n        itemsToScroll:7,\r\n        },\r\n        {\r\n        width:500,\r\n        itemsToShow:9,\r\n        itemsToScroll:9,\r\n        }\r\n]\r\n\r\n    return (\r\n            <div className='storyContainer'>\r\n            <Carousel showArrows={false} outerSpacing={0} breakPoints={breakPoints} pagination={false} itemsToShow={7} className='carousel' showEmptySlots={true}>\r\n            <div className='myStoryContainer'>\r\n            <Avatar src={user.photoURL} sx={{width:50,height:50}}/>\r\n            <AddIcon className='addIconStory' sx={{position:'absolute',width:20,height:20,right:'5px'}}/>\r\n            <p className='yourStory'>Your story</p>\r\n            </div>\r\n            <div className='personStory'>\r\n            <img src={musk} alt={'musk'} className='storyImg'/>\r\n            <p className='yourStory'>musk71</p>\r\n            </div>\r\n            <div className='personStory'>\r\n            <img src={bezos} alt={'bezos'} className='storyImg'/>\r\n            <p className='yourStory'>bezos2</p>\r\n            </div>\r\n            <div className='personStory'>\r\n            <img src={bill} alt={'bill gates'} className='storyImg'/>\r\n            <p className='yourStory'>billg</p>\r\n            </div>\r\n            <div className='personStory'>\r\n            <img src={mark} alt={'zuckerberg'} className='storyImg'/>\r\n            <p className='yourStory'>markfb</p>\r\n            </div>\r\n            <div className='personStory'>\r\n            <img src={messi} alt={'messi'}className='storyImg'/>\r\n            <p className='yourStory'>messipsg</p>\r\n            </div>\r\n            <div className='personStory'>\r\n            <img src={neymar} alt={'neymas'} className='storyImg'/>\r\n            <p className='yourStory'>neymarjr</p>\r\n            </div>\r\n            <div className='personStory'>\r\n            <img src={ronaldo} alt={'ronaldo'} className='storyImg'/>\r\n            <p className='yourStory'>cr7</p>\r\n            </div>\r\n            <div className='personStory'>\r\n            <img src={theRock} alt={'The Rock'} className='storyImg'/>\r\n            <p className='yourStory'>theRock</p>\r\n            </div>\r\n            <div className='personStory'>\r\n            <img src={diesel} alt={'Vin Diesel'} className='storyImg'/>\r\n            <p className='yourStory'>vinD</p>\r\n            </div>\r\n            </Carousel>\r\n            </div>\r\n        \r\n    )\r\n}\r\n\r\nexport default Stories","export default \"data:image/jpeg;base64,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\"","import React,{useState} from \"react\";\r\nimport './ModalPost.css'\r\nimport MoreHorizIcon from '@mui/icons-material/MoreHoriz';\r\nimport  Modal  from 'react-modal'\r\nimport { useHistory } from \"react-router-dom\";\r\nimport {doc,updateDoc,arrayRemove,arrayUnion,deleteDoc} from \"firebase/firestore\";\r\nimport {db} from '../../firebase'\r\n\r\nModal.setAppElement('#root')\r\n\r\nfunction ModalPost({data,user,userData,goToPost}){\r\n    const [isOpen,setIsOpen]=useState(false)\r\n    const history=useHistory()\r\n\r\n    const modalStylesGoToPost={\r\n        overlay:{\r\n            position:'fixed',\r\n            },\r\n        content:{\r\n            position:'absolute',\r\n            top:'35%',\r\n            maxHeight:'170px',\r\n            display:'flex',\r\n            padding:'0',\r\n            flexDirection:'column',\r\n            justifyContent:'space-between',\r\n            alignItems:'center',\r\n            borderRadius:'20px',\r\n            margin:'0 auto',\r\n            maxWidth:'300px',\r\n        }        \r\n    }\r\n    const modalStylesDontGoToPost={\r\n        overlay:{\r\n            position:'fixed',\r\n            \r\n            },\r\n        content:{\r\n            position:'absolute',\r\n            top:'35%',\r\n            maxHeight:'120px',\r\n            maxWidth:'300px',\r\n            margin:'0 auto',\r\n            display:'flex',\r\n            padding:'0',\r\n            flexDirection:'column',\r\n            justifyContent:'space-between',\r\n            alignItems:'center',\r\n            borderRadius:'20px'\r\n        }        \r\n    }\r\n    function handleUnfollow(){\r\n        const followRef = doc(db,'users',user.uid)\r\n        const followedRef = doc(db,'users',data.data.uid)\r\n        updateDoc(followedRef,{\r\n            followers:arrayRemove(user.uid)\r\n        })\r\n        updateDoc(followRef,{\r\n            following:arrayRemove(data.data.uid)\r\n        })\r\n    }\r\n    function handleFollow(){\r\n        const followRef = doc(db,'users',user.uid)\r\n        const followedRef = doc(db,'users',data.data.uid)\r\n        updateDoc(followedRef,{\r\n            followers:arrayUnion(user.uid)\r\n        })\r\n        updateDoc(followRef,{\r\n            following:arrayUnion(data.data.uid)\r\n        })\r\n    }\r\n    async function handleDeletePost(){\r\n        await deleteDoc(doc(db,'posts',data.id))\r\n        history.push('/')\r\n    }\r\n\r\n    if(!userData){\r\n        return <h1></h1>\r\n    }\r\n    return(\r\n        <div>\r\n        <MoreHorizIcon sx={{width:28,height:28,cursor:'pointer'}} onClick={()=>setIsOpen(true)}/>\r\n        {data.data.uid===user.uid?\r\n        <Modal isOpen={isOpen} onRequestClose={()=>setIsOpen(false)} style={goToPost?modalStylesGoToPost:modalStylesDontGoToPost}>\r\n        <p onClick={()=>handleDeletePost()} className='postOptionDelete'>Delete</p>\r\n        {goToPost&&<p onClick={()=>history.push(`/post/${data.id}`)} className='postOption'>Go To Post</p>}\r\n        <p onClick={()=>setIsOpen(false)} className='postOptionLast'>Cancel</p>\r\n        </Modal>:\r\n        <Modal isOpen={isOpen} onRequestClose={()=>setIsOpen(false)} style={goToPost?modalStylesGoToPost:modalStylesDontGoToPost}>\r\n        {userData.followers.includes(user.uid)?\r\n        <p onClick={()=>handleUnfollow()} className='postOptionUnfollow'>Unfollow</p>:\r\n        <p onClick={()=>handleFollow()} className='postOptionFollow'>Follow</p>\r\n        }   \r\n        {goToPost&&<p onClick={()=>history.push(`/post/${data.id}`)} className='postOption'>Go To Post</p>}\r\n        <p onClick={()=>setIsOpen(false)} className='postOptionLast'>Cancel</p>\r\n    </Modal>}\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default ModalPost","import React,{useEffect,useState} from \"react\";\r\nimport './Post.css'\r\nimport ModalPost from '../Modal/ModalPost'\r\nimport {useHistory} from 'react-router-dom'\r\nimport { doc,orderBy,updateDoc,increment,arrayUnion,arrayRemove,Timestamp,collection,onSnapshot,query,addDoc } from \"firebase/firestore\";\r\nimport { db } from \"../../firebase\";\r\nimport Avatar from '@mui/material/Avatar'\r\nimport FavoriteBorderOutlinedIcon from '@mui/icons-material/FavoriteBorderOutlined';\r\nimport ModeCommentOutlinedIcon from '@mui/icons-material/ModeCommentOutlined';\r\nimport FavoriteOutlinedIcon from '@mui/icons-material/FavoriteOutlined';\r\nimport Skeleton from '@mui/material/Skeleton';\r\nimport { createTheme } from '@mui/material';\r\n\r\nfunction Post({data,user,goToPost,postPage}){\r\n    const history = useHistory()\r\n    const [postComments,setPostComments]=useState([])\r\n    const [userData,setUserData]=useState(null)\r\n    const [loading,setLoading]=useState(true)\r\n    const [commentText,setCommentText]=useState('')\r\n    const postsRef = doc(db,'posts',data.id)\r\n\r\n    const themeComment = createTheme({\r\n        breakpoints: {\r\n          values: {\r\n            xs: 0,\r\n            sm: 770,\r\n            md: 900,\r\n            lg: 1200,\r\n            xl: 1536,\r\n          },\r\n        },\r\n      });\r\n    \r\n    const stylesLow = (theme)=>({\r\n        [theme.breakpoints.down('sm')]:{\r\n            width:28,\r\n            height:28,\r\n            marginLeft:'5px'\r\n            ,cursor:'pointer'\r\n        },\r\n        [theme.breakpoints.up('sm')]:{\r\n            display:'none'\r\n        }\r\n    })\r\n\r\n    const stylesHigh = (theme)=>({\r\n        [theme.breakpoints.down('sm')]:{\r\n            display:'none'\r\n        },\r\n        [theme.breakpoints.up('sm')]:{\r\n            width:28,\r\n            height:28,\r\n            marginLeft:'5px',\r\n            cursor:'pointer'\r\n        }\r\n    })\r\n\r\n    async function handlePostComment(e){\r\n        e.preventDefault()\r\n        const commentRef = collection(db,`posts`,data.id,'comments')\r\n        const whoCommentedRef = doc(db,'posts',data.id)\r\n        await addDoc(commentRef,{\r\n                username:user.displayName,\r\n                timestamp:Timestamp.now(),\r\n                commentText:commentText,\r\n                userPhoto:user.photoURL,\r\n                userId:user.uid\r\n            })\r\n        await updateDoc(whoCommentedRef,{\r\n            whoCommented:arrayUnion(user.uid),\r\n            commentsCount:increment(1)\r\n        })\r\n        setCommentText('')\r\n    }\r\n    function timeAgoComment(timePosted){\r\n        const minutes = Math.round((Timestamp.now().seconds-timePosted)/60)\r\n        if(minutes<1){\r\n            return 'JUST NOW'\r\n        }\r\n        else if (minutes>=1&&minutes<60){\r\n            return `${minutes}m`\r\n        }\r\n        else if (minutes>=60&&minutes<=1440) {\r\n            return `${Math.floor(minutes/60)}h`\r\n        }\r\n        else {\r\n            return `${Math.floor(minutes/1440)}d`\r\n        }\r\n    }\r\n\r\n    function timeAgo(){\r\n        const time = Math.round((Timestamp.now().seconds-data.data.timePosted.seconds)/60)\r\n        if(time>=60&&time<120){\r\n            return `${Math.floor(time/60)} HOUR AGO`\r\n        }\r\n        else if(time>=120&&time<1440){\r\n            return `${Math.floor(time/60)} HOURS AGO`\r\n        }\r\n        else if (time<1){\r\n            return `${Timestamp.now().seconds-data.data.timePosted.seconds} SECONDS AGO`\r\n        }\r\n        else if (time===0){\r\n            return `JUST NOW`\r\n        }\r\n        else if (time===1){\r\n            return `1 MINUTE AGO`\r\n        }\r\n        else if(time<60){\r\n            return `${time} MINUTES AGO`\r\n        }\r\n        else if(time>=1440&&time<2880){\r\n            return `${Math.floor(time/1440)} DAY AGO`\r\n        }\r\n        else {\r\n            return `${Math.floor(time/1440)} DAYS AGO`\r\n        }\r\n    }\r\n    async function handleDislike(){\r\n        await updateDoc(postsRef, {\r\n            likes: increment(-1),\r\n            whoLiked:arrayRemove(user.uid)\r\n        });\r\n    }\r\n\r\n    async function handleLikes(){\r\n        if(!data.data.whoLiked.includes(user.uid)){\r\n        await updateDoc(postsRef, {\r\n            likes: increment(1),\r\n            whoLiked:arrayUnion(user.uid)\r\n        });\r\n    }\r\n    }\r\n    useEffect(()=>{\r\n        /*Get comments*/\r\n        const commentRef = query(collection(db,`posts/${data.id}/comments`),orderBy(\"timestamp\", \"desc\"))\r\n        const change = onSnapshot(commentRef,(querySnapshot)=>{\r\n            const commentsArray=[]\r\n            querySnapshot.forEach((doc) => {\r\n            commentsArray.push(doc.data())\r\n        });\r\n        setPostComments(commentsArray)\r\n        })\r\n        return change\r\n    },[data.id])\r\n    \r\n\r\n    useEffect(()=>{\r\n        const getUserData = onSnapshot(doc(db,'users',data.data.uid),(doc)=>{\r\n            setUserData(doc.data())\r\n            setLoading(false)\r\n        })\r\n        return getUserData\r\n    },[])\r\n    \r\n    if(loading&&!postPage){\r\n        return <div className='skeletonPostContainer'>\r\n            <div className='skeletonPostAvatar'>\r\n            <Skeleton variant='circular' sx={{width:50,height:50}}/>\r\n            <Skeleton sx={{width:\"80%\",height:'25px',marginLeft:'10px'}}/>\r\n            </div>\r\n            <Skeleton variant='rectangular' sx={{height:'200px',marginTop:'10px'}}/>\r\n            <div className='skeletonReactionsPost'>\r\n            <Skeleton variant='text' sx={{width:'100px'}}/>\r\n            <Skeleton variant='text' sx={{width:'50px'}}/>\r\n            <Skeleton variant='text' sx={{width:'100%'}}/>\r\n            <Skeleton variant='text' sx={{width:'100px'}}/>\r\n            </div>\r\n        </div>\r\n             \r\n    }\r\n    return(\r\n        <div className={postPage?'postsContainerPostPage':'postsContainer'}>\r\n            <div style={{display:'flex',flexDirection:'column',width:'100%',alignSelf:'center'}}>\r\n            <div className={postPage?'postAvatarContainerPostPage':'postAvatarContainer'}>\r\n                <div className='postAvatar'>\r\n                    <Avatar onClick={()=>history.push(`/profile/${data.data.uid}`)} src={data.data.userPhoto} sx={{width:35,height:35,cursor:'pointer'}}/>\r\n                    <h4 onClick={()=>history.push(`/profile/${data.data.uid}`)} className='userPost'>{data.data.username}</h4>\r\n                </div>\r\n                <ModalPost data={data} user={user} userData={userData} goToPost={goToPost}/>\r\n            </div>\r\n            <img src={data.data.postPhoto} alt={data.data.username} className={postPage?'postPicturePostPage':'postPicture'}/>\r\n            </div>\r\n            {/*ONLY FOR POST PAGE*/}\r\n            <div className={postPage&&'reactionsContainerPostPage'}>\r\n                <div className={postPage?'postAvatarContainerBigPostPage':'postAvatarContainerBig'}>\r\n                        <div className='postAvatarPostPage'>\r\n                        <Avatar onClick={()=>history.push(`/profile/${data.data.uid}`)} src={data.data.userPhoto} sx={{width:35,height:35,cursor:'pointer'}}/>\r\n                        <h4 onClick={()=>history.push(`/profile/${data.data.uid}`)} className='userPost'>{data.data.username}</h4>\r\n                        </div>\r\n                 <ModalPost data={data} user={user} userData={userData} goToPost={goToPost}/>\r\n                </div>\r\n               {postPage&&<div className='commentsPostPageContainer'>\r\n                            <div className='postPagePostDescription'>\r\n                                <div className='postPageUserPostDescription'>\r\n                                <Avatar onClick={()=>history.push(`/profile/${data.data.uid}`)} sx={{width:35,height:35,cursor:'pointer'}} src={data.data.userPhoto}/>\r\n                                <p> <span onClick={()=>history.push(`/profile/${data.data.uid}`)} className='postPageUsernamePostDescription'>{data.data.username}</span> <span className='postDescriptionPostPageText'>{data.data.text}</span></p>\r\n                                </div>\r\n                                <p className='timeAgoCommentPostPage'>{timeAgoComment(data.data.timePosted.seconds)}</p>\r\n                            </div>\r\n                {postComments.map((item,index)=>(\r\n                            <div key={index} className='commentPostPage'>\r\n                                <div className='commentsTextPostPage'>\r\n                                <Avatar onClick={()=>history.push(`/profile/${item.userId}`)} src={item.userPhoto} sx={{width:35,height:35,cursor:'pointer'}}/>\r\n                                <p key={index}> <span onClick={()=>history.push(`/profile/${item.userId}`)} className='commentsPostPageUsername'>{item.username}</span> <span className='commentUnderPostText'>{item.commentText}</span></p>\r\n                                </div>\r\n                                <p className='timeAgoCommentPostPage'>{timeAgoComment(item.timestamp.seconds)}</p>\r\n                            </div>\r\n                            \r\n                        ))}\r\n                </div>}\r\n                {/*ONLY FOR POST PAGE*/}\r\n                <div>\r\n                    <div className={postPage?'reactionsPostPage':'reactions'}>\r\n                        <div className='reactiosLeft'>\r\n                            {data.data.whoLiked.includes(user.uid)?\r\n                            <FavoriteOutlinedIcon sx={{width:28,height:28,color:'rgb(245, 61, 61)',cursor:'pointer'}} onClick={()=>handleDislike()}/>:\r\n                            <FavoriteBorderOutlinedIcon onClick={()=>handleLikes()} sx={{width:28,height:28,cursor:'pointer'}}/>}\r\n                            <ModeCommentOutlinedIcon onClick={()=>history.push(`/comments/${data.id}`)} theme={themeComment} sx={stylesLow}/>\r\n                            <ModeCommentOutlinedIcon onClick={()=>history.push(`/post/${data.id}`)} theme={themeComment} sx={stylesHigh}/>\r\n                            </div>\r\n                        </div>\r\n                        <p className='likes'>{data.data.likes===1?`${data.data.likes} like`:`${data.data.likes} likes`}</p>\r\n                        <p className={postPage?'postDescriptionAllPostPage':'postDescriptionAll'}><span onClick={()=>history.push(`/profile/${data.data.uid}`)} className='postDescriptionUsername'>{data.data.username}</span><span className='postText'>{data.data.text}</span></p>\r\n                        {postComments.length>1&&\r\n                        <div>\r\n                        <p onClick={()=>history.push(`/comments/${data.id}`)} className={postPage?'viewAllCommentsPostPageLow':'viewAllCommentsLow'}>View all {postComments.length} comments</p>\r\n                        <p onClick={()=>history.push(`/post/${data.id}`)} className={postPage?'viewAllCommentsPostPageBig':'viewAllCommentsBig'}>View all {postComments.length} comments</p>\r\n                        </div>}\r\n\r\n                        {postComments.slice(0,2).map((item,index)=>(\r\n                            <p key={index} className={postPage?'commentUnderPostPage':'commentUnderPost'}><span onClick={()=>history.push(`/profile/${item.userId}`)} className='commentPostUsername'>{item.username}</span> <span className='commentUnderPostText'>{item.commentText}</span></p>\r\n                        ))}\r\n                        <p className={postPage?'postedTimePostPageDown':'postedTime'}>{timeAgo()}</p>\r\n                        <form onSubmit={e=>handlePostComment(e)} className='addCommentPostBig'>\r\n                            <input value={commentText} onChange={e=>setCommentText(e.target.value)} placeholder='Add a comment...'/>\r\n                            <button disabled={commentText.trim()===''}>Post</button>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Post","import React from 'react'\r\nimport './NavBarDown.css'\r\nimport {useHistory} from 'react-router-dom'\r\nimport { signOut } from \"firebase/auth\";\r\nimport { auth } from \"../../firebase\";\r\nimport HomeIcon from '@mui/icons-material/Home';\r\nimport Avatar from '@mui/material/Avatar'\r\nimport LogoutIcon from '@mui/icons-material/Logout';\r\nimport AddBoxOutlinedIcon from '@mui/icons-material/AddBoxOutlined';\r\nimport HomeOutlinedIcon from '@mui/icons-material/HomeOutlined';\r\n\r\nfunction NavBarDown({user,home,border}){\r\n    const history = useHistory()\r\n    function handleLogOut(){\r\n        signOut(auth)\r\n        .catch((error)=>{\r\n            alert(error.message)\r\n        })\r\n    }\r\n    return(\r\n        <nav className='navDown'>\r\n           { home?<HomeIcon className='menuIcon' onClick={()=>history.push('/')} sx={{width:30,height:30, color:'black'}}/>:\r\n           <HomeOutlinedIcon className='menuIcon' onClick={()=>history.push('/')} sx={{width:30,height:30, color:'black'}}/>}\r\n            <AddBoxOutlinedIcon onClick={()=>history.push('/newPost')} className='menuIcon' sx={{width:30,height:30}}/>\r\n            <LogoutIcon className='menuIcon' onClick={()=>handleLogOut()} sx={{width:30,height:30}}/>\r\n            <Avatar onClick={()=>history.push(`/profile/${user.uid}`)} src={user.photoURL} sx={{width:30,height:30,border:border}}/>\r\n        </nav>\r\n    )\r\n}\r\n\r\n\r\nexport default NavBarDown","import React from \"react\";\r\nimport './Footer.css'\r\nimport GitHubIcon from '@mui/icons-material/GitHub';\r\nimport LinkedInIcon from '@mui/icons-material/LinkedIn';\r\n\r\nfunction Footer(){\r\n\r\n    return(\r\n    <footer className='footerBig'>\r\n        <h5>Made by <span className='madeByName'>Alexandru Flicter</span></h5>\r\n        <div>\r\n        <a href={'https://github.com/flicteram'}><GitHubIcon sx={{\":hover\":{color:'red'},cursor:'pointer',width:30,height:30,color:'black'}}/></a>\r\n        <a href={'https://www.linkedin.com/in/alexandru-flicter-3b70ab220/'}><LinkedInIcon sx={{\":hover\":{color:'red'},cursor:'pointer',width:30,height:30,marginLeft:'10px',color:'black'}}/></a>\r\n        </div>\r\n\r\n    </footer>\r\n    )\r\n}\r\n\r\nexport default Footer","import React from \"react\";\r\nimport './FooterLow.css'\r\nimport GitHubIcon from '@mui/icons-material/GitHub';\r\nimport LinkedInIcon from '@mui/icons-material/LinkedIn';\r\n\r\nfunction FooterLow({homePageBig}){\r\n    \r\n    return(\r\n        <footer className={homePageBig?'footerLowBig':'footerLow'}>\r\n        <h5>Made by <span className='madeByNameLow'>Alexandru Flicter</span></h5>\r\n        <div>\r\n        <a href={'https://github.com/flicteram'}><GitHubIcon sx={{\":hover\":{color:'red'},cursor:'pointer',width:30,height:30,color:'black'}}/></a>\r\n        <a href={'https://www.linkedin.com/in/alexandru-flicter-3b70ab220/'}><LinkedInIcon sx={{\":hover\":{color:'red'},cursor:'pointer',width:30,height:30,marginLeft:'10px',color:'black'}}/></a>\r\n        </div>\r\n\r\n        </footer>\r\n    )\r\n}\r\n\r\nexport default FooterLow","import React,{useContext,useEffect,useState} from \"react\";\r\nimport \"./Home.css\"\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { db } from \"../firebase\";\r\nimport Header from \"../Components/Header/Header\";\r\nimport Stories from \"../Components/Stories/Stories\";\r\nimport Post from \"../Components/Post/Post\";\r\nimport NavBarDown from '../Components/NavBarDown/NavBarDown'\r\nimport Footer from \"../Components/Footer/Footer\";\r\nimport FooterLow from \"../Components/FooterLow/FooterLow\";\r\nimport Avatar from '@mui/material/Avatar'\r\nimport { collection, onSnapshot,query,orderBy,doc,setDoc,getDoc } from \"firebase/firestore\";\r\nimport {Context} from '../Context'\r\nimport {auth} from '../firebase'\r\nimport { signOut } from \"firebase/auth\";\r\nimport { LinearProgress } from \"@mui/material\";\r\n\r\nfunction Home(){\r\n    const {user}=useContext(Context)\r\n    const [postData,setPostData]=useState([])\r\n    const history=useHistory()\r\n\r\n    function handleLogOut(){\r\n        signOut(auth)\r\n        .catch((error)=>{\r\n            alert(error.message)\r\n        })\r\n    }\r\n\r\n    async function createUser(){\r\n            if(user){\r\n                const docRef= doc(db,'users',user.uid)\r\n                const docSnap = await getDoc(docRef)\r\n                if(!docSnap.exists()){\r\n                    setDoc(docRef,{\r\n                        displayName:user.displayName,\r\n                        photoURL:user.photoURL,\r\n                        uid:user.uid,\r\n                        followers:[],\r\n                        following:[]\r\n                    })\r\n                }\r\n            }\r\n        }\r\n    useEffect(()=>{\r\n        createUser()\r\n    },[])\r\n    useEffect(()=>{\r\n        //Get DB data\r\n        const q = query(collection(db, \"posts\"),orderBy(\"timePosted\", \"desc\"))\r\n        const unsubscribe = onSnapshot(q,(querySnapshot)=>{\r\n           setPostData(querySnapshot.docs.map(item=>({id:item.id,data:item.data()})))\r\n        })\r\n        return unsubscribe\r\n    },[])\r\n\r\n    if(postData.length===0){\r\n        return <div>\r\n            <Header user={user} isHome={true}/>\r\n            <LinearProgress sx={{zIndex:1001}}/>\r\n            </div>\r\n    }\r\n\r\n    return (\r\n        <div className='homeContainer'>\r\n            <Header user={user} isHome={true}/>\r\n            <div className='homeContainerInner'>\r\n                <div className='homePostsContainer'>\r\n                <Stories user={user}/>\r\n                {postData.map(data=><Post key={data.id} data={data} user={user} goToPost={true}/>)}\r\n                </div>\r\n                <div className='homeRightContainerBig'>\r\n                    <div className='homeRightAvatarContainer'>\r\n                        <div className='homeRightAvatarInner'>\r\n                            <Avatar sx={{width:70,height:70}} src={user.photoURL}/>\r\n                            <div className='homeRightUserContainer'>\r\n                            <h5>{user.displayName}</h5>\r\n                            <button onClick={()=>history.push(`/profile/${user.uid}`)} className='goToProfileHomeButton'>Go to profile</button>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <button onClick={()=>handleLogOut()} className='homeRightSignOut'>Sign out</button>\r\n                        \r\n                    </div>\r\n                    <Footer/>\r\n                </div>\r\n                \r\n            </div>\r\n            <FooterLow homePageBig={true}/>\r\n            <NavBarDown user={user} home={true}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Home","import React,{useContext,useState,useRef} from \"react\";\r\nimport './NewPost.css'\r\nimport { Context } from '../Context'\r\nimport { db,storage } from \"../firebase\";\r\nimport { collection, addDoc,Timestamp } from \"firebase/firestore\";\r\nimport {ref, uploadBytes,getDownloadURL,deleteObject} from \"firebase/storage\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport ArrowBackIosNewIcon from '@mui/icons-material/ArrowBackIosNew';\r\nimport PhotoIcon from '@mui/icons-material/Photo';\r\nimport Avatar from '@mui/material/Avatar'\r\nimport DeleteForeverIcon from '@mui/icons-material/DeleteForever';\r\nimport LinearProgress from '@mui/material/LinearProgress';\r\nfunction NewPost(){\r\n    const [postInput,setPostInput]=useState('')\r\n    const [currentFile,setCurrentFile]=useState(null)\r\n    const [inputFocus,setInputFocus]=useState(false)\r\n    const [imageUrl,setImageUrl]=useState(null)\r\n    const [loadingImage,setLoadingImage]=useState(false)\r\n    const fileRef = useRef(null)\r\n    const {user} = useContext(Context)\r\n    const history = useHistory()\r\n\r\n    \r\n    function handleDeleteFile(){\r\n        const fileDeleteRef = ref(storage, currentFile)\r\n        setLoadingImage(true)\r\n        deleteObject(fileDeleteRef).then(()=>{\r\n            setImageUrl(null)\r\n            setCurrentFile(null)\r\n            setLoadingImage(false)\r\n        })\r\n    }\r\n    function handleFile(e){\r\n        let file = e.target.files[0]\r\n        if(file){\r\n        setLoadingImage(true)\r\n        const filePathRandom = `${user.uid}/${Math.round(Math.random()*1000)}${file.name}`\r\n        const storageRef = ref(storage,`${user.uid}/${filePathRandom}`)\r\n        uploadBytes(storageRef, file).then((snapshot)=>{\r\n            setCurrentFile(snapshot.metadata.fullPath)      \r\n        })\r\n        .then(()=>{\r\n            getDownloadURL(ref(storage,`${user.uid}/${filePathRandom}`))\r\n            .then((url)=>{\r\n                setImageUrl(url)\r\n                setLoadingImage(false)\r\n            })\r\n        })\r\n        }\r\n        else{\r\n            setImageUrl(null)\r\n        }\r\n    }\r\n    async function handleSubmit(e){\r\n        e.preventDefault()\r\n        try {\r\n                await addDoc(collection(db, \"posts\"), {\r\n                text:postInput,\r\n                username:user.displayName,\r\n                uid:user.uid,\r\n                userPhoto:user.photoURL,\r\n                postPhoto:imageUrl,\r\n                timePosted:Timestamp.now(),\r\n                likes:0,\r\n                whoLiked:[],\r\n                whoCommented:[],\r\n                commentsCount:0\r\n            })\r\n            setPostInput('')\r\n            setImageUrl(null)\r\n            history.push('/')\r\n          } catch (e) {\r\n            alert(e.message)\r\n          }\r\n    }\r\n    return (\r\n        <div className='newPostContainer'>\r\n            <div className='newPostContainerInner'>\r\n            <form onSubmit={(e)=>handleSubmit(e)}>\r\n            \r\n            <nav className='navPost'>\r\n                <div className='navPostInner'>\r\n            <ArrowBackIosNewIcon sx={{width:20,height:20,cursor:'pointer'}} onClick={()=>history.goBack()}/>\r\n                <h1 className='newPost'>New Post</h1>\r\n                <button className='shareButton' disabled={imageUrl===null||postInput===''}>Share</button>\r\n                </div>\r\n            </nav>\r\n            <div className='inputContainer'>\r\n                <Avatar src={user.photoURL} sx={{position:'absolute',top:10,left:10, width:30,height:30}}/>\r\n                    <textarea onFocus={()=>setInputFocus(true)}\r\n                    onBlur={()=>setInputFocus(false)}\r\n                    className='newPostInput'\r\n                    placeholder=\"Write a caption...\"\r\n                    type='text' \r\n                    value={postInput}\r\n                    onChange={e=>setPostInput(e.target.value)}\r\n                    />\r\n                {loadingImage?<LinearProgress sx={{position:'absolute',top:'0px',width:'100%'}}/>:\r\n                imageUrl?\r\n                <div className='divImagePreview'\r\n                 onClick={()=>handleDeleteFile()}>\r\n                <img src={imageUrl} alt='Preview' className='imagePreview'/>\r\n                <DeleteForeverIcon sx={{cursor:'pointer'}}/>\r\n                </div>:\r\n                <PhotoIcon onClick={()=>fileRef.current.click()} sx={{position:'absolute',right:10,top:10,width:30,height:30,color:'green',cursor:'pointer'}}/>}\r\n                <input type='file' ref={fileRef} hidden value={''} onChange={e=>handleFile(e)}/>\r\n            </div>\r\n            </form>\r\n\r\n            {imageUrl&&<div className={inputFocus?'previewFocused':'preview'}>\r\n                <h2 className='previewTitle'>Preview</h2>\r\n                <div className='previewNameFlex'>\r\n                <Avatar src={user.photoURL} sx={{width:30,height:30}}/>\r\n                <p className='displayNamePreviewUp'>{user.displayName}</p>\r\n                </div>\r\n                <img className='imagePreviewDown' alt='Preview' src={imageUrl}/>\r\n                <p className='displayNamePreviewDown'>{user.displayName}<span className='previewInputDisplay'>{postInput}</span></p>\r\n            </div>}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NewPost","import React,{useContext,useEffect,useState} from \"react\";\r\nimport { doc,increment, onSnapshot,Timestamp,addDoc,collection,orderBy,query,updateDoc,arrayUnion} from \"firebase/firestore\";\r\nimport {db} from '../firebase'\r\nimport {Context} from '../Context'\r\nimport {useParams} from 'react-router-dom'\r\nimport { useHistory } from \"react-router-dom\";\r\nimport './CommentPage.css'\r\nimport ArrowBackIosNewIcon from '@mui/icons-material/ArrowBackIosNew';\r\nimport Avatar from '@mui/material/Avatar'\r\nimport LinearProgress from '@mui/material/LinearProgress';\r\n\r\nfunction CommentPage(){\r\n    const {postId} = useParams()\r\n    const [postData,setPostData]=useState([])\r\n    const [commentsData,setCommentsData]=useState(null)\r\n    const [commentText,setCommentText]=useState('')\r\n    const {user} = useContext(Context)\r\n    const history = useHistory()\r\n\r\n\r\n    async function handlePostComment(e){\r\n        e.preventDefault()\r\n        const commentRef = collection(db,`posts`,postId,'comments')\r\n        const whoCommentedRef = doc(db,'posts',postId)\r\n        await addDoc(commentRef,{\r\n                username:user.displayName,\r\n                timestamp:Timestamp.now(),\r\n                commentText:commentText,\r\n                userPhoto:user.photoURL,\r\n                userId:user.uid\r\n            })\r\n        await updateDoc(whoCommentedRef,{\r\n            whoCommented:arrayUnion(user.uid),\r\n            commentsCount:increment(1)\r\n        })\r\n        setCommentText('')\r\n    }\r\n\r\n    useEffect(()=>{\r\n        /*Get post data*/\r\n        const postRef = doc(db, \"posts\",postId)\r\n        const unsub =  onSnapshot(postRef, (doc) => {\r\n            setPostData(doc.data())\r\n        })\r\n        return unsub\r\n    },[postId])\r\n    \r\n    useEffect(()=>{\r\n        /*Get comments*/\r\n        const commentRef = query(collection(db,`posts/${postId}/comments`),orderBy(\"timestamp\", \"desc\"))\r\n        const change = onSnapshot(commentRef,(querySnapshot)=>{\r\n            const commentsArray=[]\r\n            querySnapshot.forEach((doc) => {\r\n                commentsArray.push(doc.data())\r\n            });\r\n            setCommentsData(commentsArray)\r\n        })\r\n        return change\r\n    },[postId])\r\n\r\n    function timeAgoComment(timePosted){\r\n        const minutes = Math.round((Timestamp.now().seconds-timePosted)/60)\r\n        if(minutes<1){\r\n            return 'JUST NOW'\r\n        }\r\n        else if (minutes>=1&&minutes<60){\r\n            return `${minutes}m`\r\n        }\r\n        else if (minutes>=60&&minutes<=1440) {\r\n            return `${Math.floor(minutes/60)}h`\r\n        }\r\n        else {\r\n            return `${Math.floor(minutes/1440)}d`\r\n        }\r\n    }\r\n    return(\r\n        <div className='commentPageContainer'>\r\n            <nav className='navComments'>\r\n                <div className='navCommentsInner'>\r\n                <div className='nav'>\r\n                <ArrowBackIosNewIcon sx={{width:20,height:20,cursor:'pointer'}} onClick={()=>history.goBack()}/>\r\n                <h1 className='commentsTitle'>Comments</h1>\r\n                <Avatar onClick={()=>history.push(`/profile/${user.uid}`)} src={user.photoURL} sx={{width:25,height:25,cursor:'pointer'}}/>\r\n                </div>\r\n                <form className='commentContainer' onSubmit={e=>handlePostComment(e)}>\r\n                    <Avatar src={user.photoURL} sx={{width:35,height:35}}/>\r\n                    <input className='textAreaComment'\r\n                        value={commentText}\r\n                        onChange={e=>setCommentText(e.target.value)}\r\n                        placeholder='Add a comment...'\r\n                     />\r\n                    <button disabled={commentText.trim()===''} className='postCommentButton'>Post</button>\r\n                </form>\r\n                </div>\r\n            </nav>\r\n            <div className='commentPostDescription'>\r\n                <div className='commentPostDescriptionAvatar'>\r\n                <Avatar src={postData.userPhoto} sx={{width:35,height:35,cursor:'pointer'}} onClick={()=>history.push(`/profile/${postData.uid}`)} />\r\n                <p className='commentPostAll'><span className='commentPostUserPosted'>{postData.username}</span> <span className='commentPostDescriptionText'>{postData.text}</span></p>\r\n                </div>\r\n                {postData.timePosted&&<p className='timeAgoComment'>{timeAgoComment(postData.timePosted.seconds)}</p>}\r\n            </div>\r\n            {!commentsData?<LinearProgress/>:\r\n            commentsData.map((item,index)=>(\r\n                <div className='commentContainerUser' key={index}>\r\n                    <div className='commentAvatarUser'>\r\n                        <Avatar src={item.userPhoto} sx={{width:35,height:35,cursor:'pointer'}} onClick={()=>history.push(`/profile/${item.userId}`)}/>\r\n                        <p className='commentUserAll'><span onClick={()=>history.push(`/profile/${item.userId}`)} className='commentUsername'>{item.username}</span> <span className='commentUser'>{item.commentText}</span></p>\r\n                    </div>\r\n                    <p className='timeAgoCommentUser'>{timeAgoComment(item.timestamp.seconds)}</p>\r\n                </div>\r\n            ))}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CommentPage","import React,{useState} from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport './PostDisplayProfile.css'\r\nimport FavoriteIcon from '@mui/icons-material/Favorite';\r\nimport ModeCommentIcon from '@mui/icons-material/ModeComment';\r\n\r\nfunction PostDisplayProfile({item}){\r\n\r\n    const [hover,setHover]=useState(false) \r\n    const history = useHistory()\r\n\r\n    return(\r\n        <div \r\n        onMouseEnter={()=>setHover(true)}\r\n        onMouseLeave={()=>setHover(false)}\r\n         className='postImageDisplayContainer'>\r\n        <img className='postImageDisplay' onClick={()=>history.push(`/post/${item.id}`)} key={item.id} src={item.data.postPhoto} alt={item.data.username}/>\r\n        <div className={hover?'reactionsProfileContainer':'reactionsProfileContainerNo'}>\r\n            <div className='reactionComment'>\r\n            <FavoriteIcon sx={{color:'white'}}/>\r\n            <p style={{fontSize:\"1.1rem\"}}>{item.data.likes}</p>\r\n            </div>\r\n            <div className='reactionComment'>\r\n            <ModeCommentIcon sx={{color:'white'}}/>\r\n            <p style={{fontSize:\"1.1rem\"}}>{item.data.commentsCount}</p>\r\n            </div>\r\n        </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PostDisplayProfile","import React,{useState,useEffect,useContext} from 'react'\r\nimport {useParams,useHistory} from 'react-router-dom'\r\nimport \"./Profile.css\"\r\nimport {db} from '../firebase'\r\nimport { doc, collection,where,query,arrayUnion, arrayRemove,updateDoc,onSnapshot,orderBy } from \"firebase/firestore\";\r\nimport Header from '../Components/Header/Header'\r\nimport Post from '../Components/Post/Post';\r\nimport PostDisplayProfile from '../Components/PostDisplayProfile/PostDisplayProfile';\r\nimport {Context} from '../Context'\r\nimport Avatar from '@mui/material/Avatar'\r\nimport GridOnIcon from '@mui/icons-material/GridOn';\r\nimport ViewDayOutlinedIcon from '@mui/icons-material/ViewDayOutlined';\r\nimport NavBarDown from '../Components/NavBarDown/NavBarDown';\r\nimport Skeleton from '@mui/material/Skeleton';\r\nimport { createTheme } from '@mui/material';\r\nimport FooterLow from '../Components/FooterLow/FooterLow'\r\n\r\nfunction Profile(){\r\n    const [profile,setProfile]=useState(null)\r\n    const [postsProfile,setPostsProfile]=useState([])\r\n    const [grid,setGrid]=useState(true)\r\n    const {profileId} = useParams()\r\n    const {user} = useContext(Context)\r\n    const history=useHistory()\r\n\r\n    const themeSekleton = createTheme({\r\n        breakpoints:{\r\n            values:{\r\n                xs: 400,\r\n                sm: 500,\r\n                md: 700,\r\n                lg: 840,\r\n                xl: 1536,\r\n            }\r\n        }\r\n    })\r\n    const skeletonStyles = (themeSekleton)=>({\r\n        [themeSekleton.breakpoints.down('sm')]:{\r\n            height:100\r\n        },\r\n        [themeSekleton.breakpoints.up('sm')]:{\r\n            height:150\r\n        },\r\n        [themeSekleton.breakpoints.between('md','lg')]:{\r\n            height:200\r\n        },\r\n        [themeSekleton.breakpoints.up('lg')]:{\r\n            height:250\r\n        },\r\n    })\r\n    const theme = createTheme({\r\n        breakpoints:{\r\n            values:{\r\n                xs:0,\r\n                sm:700,\r\n                md:1000,\r\n            }\r\n        }\r\n    })\r\n    const styles = (theme)=>({\r\n        [theme.breakpoints.down('sm')]:{\r\n            width:75,\r\n            height:75\r\n        },\r\n        [theme.breakpoints.up('sm')]:{\r\n            width:150,\r\n            height:150,\r\n            marginRight:50\r\n        }\r\n    })\r\n\r\n    function handleUnfollow(){\r\n        const followRef = doc(db,'users',user.uid)\r\n        const followedRef = doc(db,'users',profileId)\r\n        updateDoc(followedRef,{\r\n            followers:arrayRemove(user.uid)\r\n        })\r\n        updateDoc(followRef,{\r\n            following:arrayRemove(profileId)\r\n        })\r\n    }\r\n\r\n    function handleFollow(){\r\n        const followRef = doc(db,'users',user.uid)\r\n        const followedRef = doc(db,'users',profileId)\r\n        updateDoc(followedRef,{\r\n            followers:arrayUnion(user.uid)\r\n        })\r\n        updateDoc(followRef,{\r\n            following:arrayUnion(profileId)\r\n        })\r\n    }\r\n\r\n    useEffect(()=>{\r\n    /* Get posts data from db*/\r\n        const q = query(collection(db, \"posts\"), where('uid','==',profileId),orderBy(\"timePosted\", \"desc\"));\r\n        const unsubscribe = onSnapshot(q,(querySnapshot)=>{\r\n        const dataArray = []\r\n        querySnapshot.forEach((doc) => {\r\n                dataArray.push({id:doc.id,data:doc.data()})\r\n            });\r\n            setPostsProfile(dataArray)\r\n        });\r\n        return unsubscribe\r\n    },[profileId])\r\n\r\n    useEffect(()=>{\r\n        /*Get data about user from db*/\r\n        const unsub = onSnapshot(doc(db, \"users\", profileId), (doc) => {\r\n            setProfile(doc.data())\r\n        });\r\n        return unsub\r\n    },[profileId])\r\n    \r\n   \r\n\r\n    if(!profile||!user){\r\n       return <div className='skeletonProfileContainer'>\r\n            <Header user={user}/>\r\n            <div className='skeletonAvatarContainer'>\r\n            <div className='skeletonAvatar'>\r\n            <Skeleton variant='circular' animation='wave' theme={theme} sx={styles}/>\r\n            <div className='skeletonAvatarInfo'>\r\n            <Skeleton animation='wave' variant=\"text\" width={'100%'} height={'25px'}/>\r\n            <Skeleton animation='wave' variant=\"text\" width={'100%'} height={'25px'}/>\r\n            <Skeleton animation='wave' variant=\"text\" width={'100%'} height={'25px'}/>\r\n            <Skeleton animation='wave' variant=\"text\" width={'100%'} height={'25px'}/>\r\n            </div>\r\n            </div>\r\n            <Skeleton animation='wave' variant=\"rectangular\" sx={{marginTop:'20px'}} width={'100%'} height={'40px'}/>\r\n            </div>\r\n            <div className='skeletonProfilePosts'>\r\n            <Skeleton theme={themeSekleton} sx={skeletonStyles} animation='wave' variant='rectangular' />\r\n            <Skeleton theme={themeSekleton} sx={skeletonStyles} animation='wave' variant='rectangular' />\r\n            <Skeleton theme={themeSekleton} sx={skeletonStyles} animation='wave' variant='rectangular' />\r\n            <Skeleton theme={themeSekleton} sx={skeletonStyles} animation='wave' variant='rectangular' />\r\n            <Skeleton theme={themeSekleton} sx={skeletonStyles} animation='wave' variant='rectangular' />\r\n            <Skeleton theme={themeSekleton} sx={skeletonStyles} animation='wave' variant='rectangular' />\r\n            <Skeleton theme={themeSekleton} sx={skeletonStyles} animation='wave' variant='rectangular' />\r\n            <Skeleton theme={themeSekleton} sx={skeletonStyles} animation='wave' variant='rectangular' />\r\n            <Skeleton theme={themeSekleton} sx={skeletonStyles} animation='wave' variant='rectangular' />\r\n            </div>\r\n            <NavBarDown user={user} home={false} border={'1px solid black'}/>\r\n           </div>\r\n    }\r\n    return (\r\n        <div className='profileContainer'>\r\n           \r\n            <div>\r\n            <Header user={user}/>\r\n            <div className='profileTop'>\r\n                <Avatar src={profile.photoURL} theme={theme} sx={styles} />\r\n                <div className='profileTopFollowers'>\r\n                \r\n                <h2 className='profileTopName'>{profile.displayName}</h2>\r\n                {profileId!==user.uid&&!profile.followers.includes(user.uid)?\r\n                <button onClick={()=>handleFollow()} className='followButton'>Follow</button>:\r\n                profileId===user.uid? \r\n                <button onClick={()=>history.push(`/EditProfile/${profileId}`)} className='optionsButton'>Edit Profile</button>:\r\n                <button onClick={()=>handleUnfollow()}className='unfollowButton'>Unfollow</button>}\r\n                    <div className='postsProfile'>\r\n                        <p className='statsNumber'>{postsProfile.length}</p>\r\n                        <p className='statsName'>posts</p>\r\n                    </div>\r\n                    <div className='followers'>\r\n                        <p className='statsNumber'>{profile.followers.length}</p>\r\n                        <p className='statsName'>followers</p>\r\n                    </div>\r\n                    <div className='following'>\r\n                        <p className='statsNumber'>{profile.following.length}</p>\r\n                        <p className='statsName'>following</p>\r\n                    </div>\r\n                    <p className='profileBio'>{profile.bio}</p>\r\n                </div>\r\n                \r\n            </div>\r\n              \r\n            <div className='profileOptions'>\r\n            <GridOnIcon onClick={()=>setGrid(true)} sx={grid?{width:30,height:30,color:'rgb(80, 124, 255)',cursor:'pointer'}:{width:30,height:30,color:'rgb(214, 214, 214)',cursor:'pointer'}}/>\r\n            <ViewDayOutlinedIcon onClick={()=>setGrid(false)} sx={grid?{width:30,height:30,color:'rgb(214, 214, 214)',cursor:'pointer'}:{width:30,height:30,color:'rgb(80, 124, 255)',cursor:'pointer'}}/>\r\n            </div>\r\n            \r\n            {grid?<div className='postsDisplay'>\r\n                {postsProfile.map((item,index)=><PostDisplayProfile key={index} item={item}/>)}\r\n            </div>:\r\n            <div className='postsProfileContiner'>\r\n            {postsProfile.map(data=><Post key={data.id} data={data} user={user} goToPost={true} userData={profile}/>)}\r\n            </div>\r\n            }\r\n            </div>\r\n            <FooterLow homePageBig={false}/>\r\n            <NavBarDown user={user} home={false} border={'1px solid black'}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Profile","import React from \"react\";\r\nimport ArrowBackIosNewIcon from '@mui/icons-material/ArrowBackIosNew';\r\nimport Avatar from '@mui/material/Avatar'\r\nimport './Nav.css'\r\n\r\n\r\nfunction Nav({user,leftNav,rightNav,title}){\r\n\r\n    return (\r\n    <nav className='navComponent'>\r\n        <div className='navComponentInside'>\r\n        <ArrowBackIosNewIcon sx={{width:20,height:20,cursor:'pointer'}} onClick={()=>leftNav()}/>\r\n        <h1 className='navComponentTitle'>{title}</h1>\r\n        <Avatar onClick={()=>rightNav()} src={user.photoURL} sx={{width:25,height:25,cursor:'pointer'}}/>\r\n        </div>\r\n    </nav>\r\n    )\r\n}\r\n\r\nexport default Nav","import React,{useContext,useState,useRef,useEffect} from \"react\";\r\nimport Nav from \"../Components/Nav/Nav\";\r\nimport NavBarDown from \"../Components/NavBarDown/NavBarDown\";\r\nimport './EditProfile.css'\r\nimport Avatar from '@mui/material/Avatar'\r\nimport {uploadBytes,ref,getDownloadURL} from 'firebase/storage'\r\nimport {doc,updateDoc,query,where,collection,getDocs,writeBatch,runTransaction } from 'firebase/firestore'\r\nimport { updateProfile } from 'firebase/auth'\r\nimport {useHistory,useParams} from 'react-router-dom'\r\nimport {Context} from '../Context'\r\nimport { storage,auth,db } from \"../firebase\";\r\nimport FooterLow from \"../Components/FooterLow/FooterLow\";\r\n\r\nfunction EditProfile(){\r\n    const {user} = useContext(Context)\r\n    const {profileId}=useParams()\r\n    const history = useHistory()\r\n\r\n    const [profilePhoto,setProfilePhoto]=useState(null)\r\n    const [name,setName]=useState(user.displayName)\r\n    const [bio,setBio]=useState('')\r\n    const fileRef = useRef(null)\r\n   \r\n    async function updateUserComments(){\r\n\r\n        const includesComments=query(collection(db,'posts'),where('whoCommented','array-contains',profileId))\r\n        const includesSnapshot=await getDocs(includesComments)\r\n\r\n        \r\n            includesSnapshot.forEach(async (document)=>{\r\n                const queryComments = query(collection(db,`posts`,document.id,'comments',))\r\n                const getComments = await getDocs(queryComments)\r\n                \r\n                if(profilePhoto)\r\n                getComments.forEach(async(item)=>{\r\n                    await runTransaction(db, async(transaction)=>{\r\n                        await transaction.get(doc(db,'posts',document.id,'comments',item.id))\r\n                        transaction.update(doc(db,'posts',document.id,'comments',item.id),{\r\n                            username:name,\r\n                            userPhoto:profilePhoto\r\n                        })\r\n                    })\r\n                })\r\n                else {\r\n                    getComments.forEach(async(item)=>{\r\n                        await runTransaction(db, async(transaction)=>{\r\n                            await transaction.get(doc(db,'posts',document.id,'comments',item.id))\r\n                            transaction.update(doc(db,'posts',document.id,'comments',item.id),{\r\n                                username:name,\r\n                            })\r\n                        })\r\n                    })\r\n                }\r\n            })\r\n        }\r\n    \r\n    async function updateUserPosts(){\r\n        \r\n        const batchPosts=writeBatch(db)\r\n        const userPosts = query(collection(db,'posts'),where('uid','==',profileId))\r\n        const userDocs = await getDocs(userPosts)\r\n\r\n        if(profilePhoto){\r\n            userDocs.forEach((document)=>{\r\n                batchPosts.update(doc(db,'posts',document.id),{\r\n                    username:name,\r\n                    userPhoto:profilePhoto\r\n                })\r\n            })\r\n            batchPosts.commit()\r\n        }\r\n        else {\r\n            userDocs.forEach((document)=>{\r\n                batchPosts.update(doc(db,'posts',document.id),{\r\n                    username:name,\r\n                })\r\n            })\r\n            return batchPosts.commit()\r\n        }\r\n    }\r\n    function handleProfilePhoto(e){\r\n        let file = e.target.files[0]\r\n        const storageRef=ref(storage,`profileImage/${file.name}`)\r\n        uploadBytes(storageRef, file)\r\n        .then(()=>{\r\n            getDownloadURL(storageRef)\r\n            .then((url)=>{\r\n                setProfilePhoto(url)\r\n            })\r\n        })\r\n    }\r\n\r\n    function handleSubmitEdit(e){\r\n        e.preventDefault()\r\n        const usersDoc = doc(db,'users',profileId)\r\n        if(profilePhoto){\r\n        updateProfile(auth.currentUser,{\r\n            displayName:name,\r\n            photoURL:profilePhoto\r\n        })\r\n        .then(()=>{\r\n            updateUserPosts()\r\n        })\r\n        .then(()=>{\r\n            updateUserComments()\r\n        })\r\n        .then(async()=>{\r\n            await updateDoc(usersDoc,{\r\n                displayName:name,\r\n                photoURL:profilePhoto,\r\n                bio:bio\r\n            })\r\n            history.push('/')\r\n        })\r\n    }   else{\r\n        updateProfile(auth.currentUser,{\r\n            displayName:name,\r\n        })\r\n        .then(()=>{\r\n            updateUserPosts()\r\n        })\r\n        .then(()=>{\r\n            updateUserComments()\r\n        })\r\n        .then(async()=>{\r\n            await updateDoc(usersDoc,{\r\n                displayName:name,\r\n                bio:bio\r\n            })\r\n            history.push('/')\r\n        })\r\n    }\r\n    }\r\n    useEffect(()=>{\r\n        async function getUserDocData(){\r\n            const getUserRef = query(collection(db,'users'),where('uid','==',profileId))\r\n            const getUserDoc = await getDocs(getUserRef)\r\n            getUserDoc.forEach((doc)=>{\r\n                setBio(doc.data().bio)\r\n            })\r\n        }\r\n        getUserDocData()\r\n    },[profileId])\r\n\r\n    function handleBack(){\r\n        history.goBack()\r\n    }\r\n    function handelGoToProfile(){\r\n        history.push(`/profile/${user.uid}`)\r\n    }\r\n    return(\r\n        <div className='editProfileContainer'>\r\n            <Nav user={user} leftNav={handleBack} rightNav={handelGoToProfile} title={'Edit Profile'}/>\r\n            <div className='editProfileContainerInner'>\r\n            <div className='changeProfilePhotoContainerAll'>\r\n                <Avatar src={profilePhoto?profilePhoto:user.photoURL} sx={{width:40,height:40}}/>\r\n                <div className='changeProfilePhotoContainer'>\r\n                <h2 className='usernameEditProfile'>{user.displayName}</h2>\r\n                <p className='changeProfilePhoto' onClick={()=>fileRef.current.click()}>Change Profile Photo</p>\r\n                <input type='file' ref={fileRef} onChange={e=>handleProfilePhoto(e)} hidden/>\r\n                </div>\r\n            </div>\r\n            <form className='formEditProfile' onSubmit={e=>handleSubmitEdit(e)}>\r\n            <label>Name\r\n            <input \r\n            type='text'\r\n            value={name}\r\n            onChange={e=>setName(e.target.value)}\r\n            />\r\n            </label>\r\n            <label>\r\n                Bio\r\n            <textarea className='textAreaBio'\r\n            value={bio}\r\n            onChange={e=>setBio(e.target.value)}\r\n               />\r\n            </label>\r\n            <button className='submitProfileEdit' disabled={name.length<6||name.length>25}>Submit</button>\r\n            </form>\r\n            \r\n            \r\n            </div>\r\n            <FooterLow/>\r\n            <NavBarDown user={user} home={false} border={'1px solid black'}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default EditProfile","import React,{useState,useEffect, useContext} from \"react\";\r\nimport {db} from '../firebase'\r\nimport { doc, onSnapshot,query,getDocs,collection,where} from \"firebase/firestore\";\r\nimport './PostPage.css'\r\nimport Post from '../Components/Post/Post'\r\nimport {useParams,useHistory} from 'react-router-dom'\r\nimport {Context} from '../Context'\r\nimport Nav from \"../Components/Nav/Nav\";\r\nimport NavBarDown from \"../Components/NavBarDown/NavBarDown\";\r\nimport LinearProgress from '@mui/material/LinearProgress';\r\nimport PostDisplayProfile from '../Components/PostDisplayProfile/PostDisplayProfile'\r\nimport FooterLow from \"../Components/FooterLow/FooterLow\";\r\n\r\nfunction PostPage(){\r\n    const history = useHistory()\r\n    const {postId}=useParams()\r\n    const [postInfo,setPostInfo]=useState({})\r\n    const [morePosts,setMorePosts]=useState([])\r\n    const {user} = useContext(Context)\r\n    const [loading,setLoading]=useState(true)\r\n\r\n    async function getRelevantPosts(){\r\n        const q = query(collection(db,'posts'),where('uid','==',postInfo.data.uid))\r\n        const querySnapshot = await getDocs(q)\r\n        const postsArray= []\r\n        querySnapshot.forEach((doc)=>{\r\n        postsArray.push({id:doc.id,data:doc.data()})\r\n        })\r\n        setMorePosts(postsArray)\r\n    }\r\n    \r\n    useEffect(()=>{\r\n        /* Get post data */\r\n        setLoading(true)\r\n        const unsub = onSnapshot(doc(db,'posts',postId),(doc)=>{\r\n            setPostInfo({data:doc.data(),id:doc.id})\r\n            setLoading(false)\r\n        })\r\n        return unsub\r\n    },[postId])\r\n\r\n    useEffect(()=>{\r\n        if(postInfo.data){\r\n        getRelevantPosts()\r\n        }\r\n    },[postInfo])\r\n\r\n    function handleGoBack(){\r\n        history.goBack()\r\n    }\r\n    function goToProfile(){\r\n        history.push(`/profile/${user.uid}`)\r\n    }\r\n\r\n    if(loading){\r\n        return <LinearProgress sx={{width:'100%'}}/>\r\n    }\r\n    return(\r\n    <div className='postPageContainer'>\r\n        \r\n        <Nav title={'Photo'} user={user} leftNav={handleGoBack} rightNav={goToProfile}/>\r\n        <div className='postPagePostContainer'>\r\n            {postInfo.data&&<Post data={postInfo} user={user} isLoading={loading} postPage={true}/>}\r\n        </div>\r\n        <div className='postPageMorePostsFromContainer'>\r\n            <h4>More posts from <span className='morePostsGoToProfile' onClick={()=>history.push(`/profile/${postInfo.data.uid}`)}>{postInfo.data.username}</span></h4>\r\n            <div className='postPageMorePostsContainer'>\r\n                {morePosts.slice(0,7).filter(post=>post.id!==postId).map(item=><PostDisplayProfile item={item}/>)}\r\n            </div>\r\n        </div>\r\n        \r\n        <FooterLow/>\r\n        <NavBarDown user={user} home={true} goToPost={false}/>\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default PostPage","import './App.css';\nimport React from 'react';\nimport {Switch,Route} from 'react-router-dom'\nimport SignIn from './Pages/SignIn';\nimport Home from './Pages/Home';\nimport NewPost from './Pages/NewPost'\nimport CommentPage from './Pages/CommentPage'\nimport Profile from './Pages/Profile';\nimport EditProfile from './Pages/EditProfile';\nimport PostPage from './Pages/PostPage'\n\n\nfunction App() {\n\n  return (\n    <div className='appContainer'>\n    <Switch >\n      <Route exact path='/'>\n        <Home/>\n      </Route>  \n      <Route path='/signin'>\n        <SignIn/>\n      </Route>\n      <Route path='/newPost'>\n        <NewPost/>\n      </Route>\n      <Route path='/comments/:postId'>\n        <CommentPage/>\n      </Route>\n      <Route path='/profile/:profileId'>\n        <Profile/>\n      </Route>\n      <Route path='/EditProfile/:profileId'>\n        <EditProfile/>\n      </Route>\n      <Route path='/post/:postId'>\n        <PostPage/>\n      </Route>\n    </Switch>\n    </div>\n  );\n}\n\nexport default App;\n","import { useEffect } from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\n\r\nexport default function ScrollToTop() {\r\n  const { pathname } = useLocation();\r\n\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0);\r\n  }, [pathname]);\r\n\r\n  return null;\r\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {HashRouter as Router} from 'react-router-dom'\nimport App from './App';\nimport {ContextProvider} from './Context'\nimport ScrollToTop from './ScrollToTop'\n\nReactDOM.render(\n    <Router>\n      <ContextProvider>\n      <ScrollToTop/>\n      <App />\n      </ContextProvider>\n    </Router>\n  ,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}